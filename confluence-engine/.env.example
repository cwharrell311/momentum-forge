# Confluence Engine — Environment Variables
# Copy this file to .env and fill in your values:
#   cp .env.example .env

# ── Data Providers ──────────────────────────────────────
# Financial Modeling Prep (free tier: financialmodelingprep.com)
FMP_API_KEY=your_fmp_key_here

# Unusual Whales (Phase 2 — unusualwhales.com, Basic $150/mo)
UW_API_KEY=

# ── Database ────────────────────────────────────────────
DATABASE_URL=postgresql+asyncpg://confluence:localdev123@localhost:5432/confluence

# ── Redis ───────────────────────────────────────────────
REDIS_URL=redis://localhost:6379/0

# ── Broker (alpaca.markets — paper trading is FREE) ──────
# Sign up at alpaca.markets, go to Paper Trading, generate API keys
ALPACA_API_KEY=
ALPACA_SECRET_KEY=
# Paper trading (default): https://paper-api.alpaca.markets
# Live trading:            https://api.alpaca.markets
ALPACA_BASE_URL=https://paper-api.alpaca.markets

# ── AI Command Center ─────────────────────────────────
# Claude (anthropic.com/settings → API Keys)
ANTHROPIC_API_KEY=
# OpenAI (platform.openai.com/api-keys)
OPENAI_API_KEY=
# Routing: "auto" (let the router decide), "claude", or "openai"
AI_DEFAULT_PROVIDER=auto
# Model overrides (defaults: claude-sonnet-4-20250514, gpt-4o)
# AI_CLAUDE_MODEL=claude-sonnet-4-20250514
# AI_OPENAI_MODEL=gpt-4o

# ── Application Settings ────────────────────────────────
# Set to "true" ONLY when you're ready for real money trades
LIVE_TRADING_ENABLED=false

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# How often to run the full confluence scan (seconds)
# FMP free tier = 250 calls/day. Each scan uses ~35 FMP calls (1 per ticker).
# 900 = 15 min → ~160 calls/day with 35 tickers (safe for free tier)
# 300 = 5 min  → ~480 calls/day (EXCEEDS free tier — upgrade FMP first)
SCAN_INTERVAL=900

# ── Auto-Journal ──────────────────────────────────────
# Automatically log trade journal entries when signals fire
# (no orders placed — just records the setup for review)
AUTO_TRADE_ENABLED=false

# Minimum conviction % to auto-log (0-100)
AUTO_TRADE_MIN_CONVICTION=60

# Minimum number of agreeing layers to auto-log (1-8)
AUTO_TRADE_MIN_LAYERS=3
